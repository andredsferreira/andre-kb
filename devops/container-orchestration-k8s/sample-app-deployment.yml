  # Kubernetes deployment configuration for the sample application

  apiVersion: apps/v1
  kind: Deployment                  
  metadata:                         
    name: sample-app-deployment
  spec:
    replicas: 3                     
    template:                       
      metadata:                     
        labels:
          app: sample-app-pods
      spec:
        containers:                 
          - name: sample-app        
            image: sample-app:v1
            ports:
              - containerPort: 8080 
            env:                    
              - name: NODE_ENV
                value: production
            resources:
              limits:
                cpu: "500m"
                memory: "256Mi"
              requests:
                cpu: "250m"
                memory: "128Mi"
    selector:                       
      matchLabels:
        app: sample-app-pods
    strategy:
      type: RollingUpdate   
      rollingUpdate:
        maxSurge: 3
        maxUnavailable: 0
